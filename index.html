<html>
  <script src='https://d3js.org/d3.v5.min.js'></script>
  <body onload='init()'>
  <svg width=300 height=300>
  </svg>
  <script>
  async function init() {
    const data = await d3.csv('https://raw.githubusercontent.com/jpslane/narrative-visualization/main/emissions.csv', d3.autoType);
    
    var x = d3.scaleLinear()
    .domain([1750, 2020])
    .range([0, 200]);
    
    var y = d3.scaleLinear()
    .domain([0, 40000000000])
    .range([200, 0]);
    
    var margin = 50
    var svg = d3.select('svg').append('g').attr('transform', 'translate('+margin+','+margin+')');
    
    svg.append('path')
    .datum(data)
    .attr('fill', 'none')
    .attr("stroke", "steelblue")
    .attr("stroke-width", 1.5)
    .attr("d", d3.line()
      .x(function(d) { return x(d.date) })
      .y(function(d) { return y(d.value) }))
  }
  </script>
  </body>
</html>
